---
title: "Desvio Padr√£o e Erro Padr√£o da M√©dia Amostral"
subtitle: "(Dados simulados para uma popula√ß√£o de Khaya Ivorensis)"
author:
- name: Deivison Venicio Souza
  email: |
   | üå≥üå≥üå≥üå≥üå≥üå≥
   | deivisonvs@ufpa.br
   | https://github.com/DeivisonSouza
  affiliation: Universidade Federal do Par√° - UFPA
fontsize: 14pt
lang: pt-BR
date: |
  | 1¬™ vers√£o: 11/Abril/2022
  | (Atualizado em: `r format(Sys.Date(),"%d/%B/%Y")`)

output:
  prettydoc::html_pretty:
    theme: leonids
    highlight: github
    toc: yes
    df_print: paged
    number_sections: yes
---

```{r setup, include=T, echo=F}
library(rmarkdown)
knitr::opts_chunk$set(fig.align = "center", 
                      cache = FALSE, 
                      prompt = FALSE, 
                      comment = NA, 
                      eval = TRUE)
```

# Contextualiza√ß√£o (<span style="color:blue">Ainda em constru√ß√£o!</span>)

- No tutorial [Simula√ß√£o de Dados Dendrom√©tricos](https://deivisonsouza.github.io/FL03039-Inventario-Florestal/Slides/Simulacao-khaya.html) foram simulados dados (assumindo distribui√ß√£o normal) para as vari√°veis di√¢metro a 1,30m do solo ($d$) e altura ($h$) para uma popula√ß√£o florestal hipot√©tica de üå≥*Khaya Ivorensis*üå≥ (10 hectares). Em seguida, o volume individual das √°rvores foi calculado usando a f√≥rmula $v_i = \dfrac{(\pi d^2)}{40000}(h)(0,7)$.
- O dados obtidos por simula√ß√£o est√£o dispon√≠veis no arquivo [Khaya-simulado.xlsx](https://deivisonsouza.github.io/FL03039-Inventario-Florestal/Slides/data/Khaya-simulado.xlsx).

**Na simula√ß√£o, as seguintes caracter√≠sticas foram admitidas para a popula√ß√£o florestal:**

- A popula√ß√£o florestal de üå≥*Khaya Ivorensis*üå≥ possui 15 anos de idade, e foi implantada usando o espa√ßamento 5m x 5m e pleno sol. Sob este espa√ßamento s√£o poss√≠veis estabelecer at√© 400 √°rvores por hectare.
- A popula√ß√£o florestal √© um ret√¢ngulo de 500m x 200m, ou seja, com √°rea total de 10 hectares. (Obviamente, na natureza ter-se-√° pol√≠gonos irregulares!)
- A popula√ß√£o florestal ser√° subdividida em √°reas de 100m x 100m (1 hectare). Portanto, o n√∫mero de parcelas poss√≠veis na popula√ß√£o ser√° igual a 10 (N = 10).
- N√£o ocorreu mortalidade no plantio at√© os 15 anos de idade (Um sonho!üòÄ). Portanto, a popula√ß√£o de üå≥*Khaya Ivorensis*üå≥ ser√° composta de 4000 √°rvores.
- O intervalo de varia√ß√£o dos di√¢metros a 1,30m do solo na popula√ß√£o √© de 25cm (m√≠nimo) a 27cm (m√°ximo).
- O intervalo de varia√ß√£o das alturas comerciais na popula√ß√£o √© de 9m (m√≠nimo) a 10m (m√°ximo).

```{r, echo=FALSE, out.width='60%', fig.align='center', fig.cap='', dpi=600}
knitr::include_graphics('fig/class3/pop2.png')
```

# Objetivos

- Usar os dados simulados para a popula√ß√£o florestal de üå≥*Khaya Ivorensis*üå≥ ([Simula√ß√£o de Dados Dendrom√©tricos](https://deivisonsouza.github.io/FL03039-Inventario-Florestal/Slides/Simulacao-khaya.html)) para entender a diferen√ßa entre o <span style="color:blue">desvio padr√£o</span> e o <span style="color:blue">erro padr√£o da m√©dia</span>.
- Demonstrar alguns pacotes e fun√ß√µes dispon√≠veis na linguagem R.

# Carrega os dados simulados

```{r}
## Carrega os dados simulados

data <- readxl::read_excel('data/Khaya-simulado.xlsx')
```

```{r, message=FALSE}
## Visualiza as 2 primeiras linhas de cada parcela

library(dplyr)

data %>%
  group_by(Parc) %>%
  top_n(n = 2) %>% 
  knitr::kable()
```


# Desvio Padr√£o (Amostral vs Populacional)





```{r, message=F}
## Calcula total do volume por Parcela

v_Parc <- data %>%
  group_by(Parc) %>%
  summarise(across(#.cols = where(is.numeric),
                   .cols = v,
                   .fns = list(Total=sum),
                   na.rm = TRUE,
                   .names = "Volume_{.fn}"
  )
  )

  knitr::kable(v_Parc)
```

- Uma vez que os dados da popula√ß√£o florestal est√£o dispon√≠veis, os par√¢metros $\mu$ e $\sigma$ s√£o conhecidos:

```{r}
## M√©dia e desvio padr√£o populacional da vari√°vel "volume por hectare"

data %>%
  summarise(n = n(),
            media_pop = mean(v_Parc$Volume_Total), 
            sd_pop = sd(v_Parc$Volume_Total)
            )
```

- A m√©dia populacional $(\mu)$ para a vari√°vel volume √© $141,8906~(m^3.ha^{‚Åª1})$ e o desvio da popula√ß√£o $(\sigma)$ √© aproximadamente $5,98~(m^3.ha^{‚Åª1})$.
- O volume por parcela (1ha) para todas as parcelas poss√≠veis na popula√ß√£o tamb√©m √© conhecido. **Simplesmente por que foram simulados!**üòÄ
- **Por enquanto, guarde essas informa√ß√µes!**


# Erro Padr√£o da M√©dia

- Para os dados simulado, a m√©dia populacional $(\mu)$ para a vari√°vel volume √© $141,8906~(m^3.ha^{‚Åª1})$ e o desvio da popula√ß√£o √© aproximadamente $5,98~(m^3.ha^{‚Åª1})$. (<span style="color:blue">Por√©m, lembre-se que dados populacionais raramente estar√£o dispon√≠veis!</span>)
- Portanto, em invent√°rios florestais (IF), na pr√°tica, comumente os dados dendrom√©tricos s√£o medidos em <span style="color:blue">parcelas amostrais</span> sob algum processo de amostragem e, em seguida, a vari√°vel de interesse √© extrapolada para a popula√ß√£o (infer√™ncia).
- Agora, suponha a decis√£o de sortear uma amostra aleat√≥ria sem reposi√ß√£o de duas parcelas amostrais. Aplicando a f√≥rmula da combina√ß√£o simples (n = 10, k = 2) existem 45 possibilidades de combina√ß√£o. (Ver tutorial [Combina√ß√£o Simples no R](https://deivisonsouza.github.io/FL03039-Inventario-Florestal/Slides/Combinacao-simples.html))


```{r}
## Carrega os dados simulados

#dt$v.soma
#x <- t(combn(dt$v.soma, 2))
#class(x)

```
