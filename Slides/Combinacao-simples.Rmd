---
title: "Combina√ß√£o Simples no R:"
subtitle: "No√ß√£o para invent√°rio florestal amostral"
author:
- name: Deivison Venicio Souza
  email: |
   | üå≥üå≥üå≥üå≥üå≥üå≥
   | deivisonvs@ufpa.br
   | https://github.com/DeivisonSouza
  affiliation: Universidade Federal do Par√° - UFPA
fontsize: 14pt
lang: pt-BR
date: |
  | 1¬™ vers√£o: 11/Abril/2022
  | (Atualizado em: `r format(Sys.Date(),"%d/%B/%Y")`)

output:
  prettydoc::html_pretty:
    theme: leonids
    highlight: github
    toc: yes
    df_print: paged
    number_sections: yes
---

```{r setup, include=TRUE, echo = F}
library(rmarkdown)
knitr::opts_chunk$set(fig.align="center", cache=TRUE, prompt=FALSE, comment = NA, eval = TRUE)
library("distill")
```

# Combina√ß√£o Simples no R

## Objetivos

- Usar uma popula√ß√£o florestal de üå≥*Khaya Ivorensis*üå≥ hipot√©tica ([Aula3-AAS.Rmd](https://deivisonsouza.github.io/FL03039-Inventario-Florestal/Slides/Aula3-AAS.html)) como base para demostrar o uso da combina√ß√£o simples no contexto do invent√°rio florestal por amostragem.
- Demonstrar fun√ß√µes existentes na linguagem R para obter os resultados (quantas e quais combina√ß√µes poss√≠veis?) de uma an√°lise de combina√ß√£o simples.

## Caracter√≠sticas da popula√ß√£o hipot√©tica

- Admitir-se-√° uma popula√ß√£o florestal de *Khaya Ivorensis* com √°rea total de 10 hectares e com 15 anos de idade, implantada a pleno sol e sob o espa√ßamento 5m x 5m.
- Admitindo-se um espa√ßamento de 5m x 5m, em 1ha s√£o poss√≠veis 400 √°rvores. Portanto, pode-se admitir que a popula√ß√£o de *Khaya Ivorensis* ser√° composta de 4000 √°rvores (**sem mortalidade!**).

## Amostragem Aleat√≥ria Simples - AAS

- Suponha que voc√™ (Engenheiro Florestal) foi consultado para realizar um invent√°rio florestal no povoamento de *Khaya Ivorensis* com o objetivo de quantificar o volume de madeira nos 10 hectares.
- **Existe duas op√ß√µes**: Censo ou Amostragem? Qual voc√™ escolheria e porque?
- **Invent√°rio Piloto**: Em invent√°rios florestais por amostragem √© comum a realiza√ß√£o de Invent√°rios Pilotos (IP), com um n√∫mero reduzido de unidades de amostras, com fins de capturar a variabilidade da vari√°vel de interesse. Esse IP pode (ou n√£o) ser considerado invent√°rio definitivo (ID) a depender da precis√£o requerida, e entre outros fatores.
- Na popula√ß√£o florestal de *Khaya Ivorensis* hipot√©tica, se admitido o uso de parcelas amostrais de 100m x 100m (1ha), seria poss√≠vel estabelecer 10 parcelas no povoamento. (Ver aula [Aula3-AAS.Rmd](https://deivisonsouza.github.io/FL03039-Inventario-Florestal/Slides/Aula3-AAS.html)) (**Ver Figura**)

```{r, echo=FALSE, out.width='60%', fig.align='center', fig.cap='', dpi=600}
knitr::include_graphics('fig/class3/pop2.png')
```

- **Perfeito!** Sabe-se que o n√∫mero de parcelas poss√≠veis de 1ha (100m x 100m) na popula√ß√£o florestal de *Khaya Ivorensis* √© 10. Se a decis√£o for por usar amostragem, por exemplo, amostragem aleat√≥ria simples, poder-se-ia simplesmente fazer um sorteio sem reposi√ß√£o das parcelas que ser√£o medidas. Por√©m, √© necess√°rio definir, a priori, quantas parcelas ser√£o amostradas no IP.
- Ent√£o, suponha a decis√£o de sortear 2 parcelas amostrais dentre as 10 poss√≠veis. A figura a seguir √© apenas uma das possibilidades de combina√ß√£o do sorteio sem reposi√ß√£o. Admita que foram sorteadas as **parcelas 4 e 7**, cujos volumes de madeira por parcela foi $145m^3$ e $143m^3$, respectivamente.

```{r, echo=FALSE, out.width='30%', fig.align='center', fig.cap='', dpi=600}
knitr::include_graphics('fig/class3/pop4.png')
```

- Mas, veja que a amostra sorteada (4 e 7) √© apenas uma possibilidade dentre as v√°rias combina√ß√µes poss√≠veis de amostras de mesmo tamanho (n = 2).
- Portanto, teoricamente, o n√∫mero de amostras de tamanhos k = 2 tomadas de n = 10 elementos pode ser determinado por combina√ß√£o simples.

\begin{equation*}
\normalsize
C_{n,k} =\frac{n!}{k!(n-k)!} \\~\\~\\
C_{10,2} =\frac{10!}{2!(10-2)!} = \frac{(10).(9).(8!)}{2!(8!)} = \frac{(10).(9)}{2} = \color{blue}{45}
\end{equation*}

- Assim, seria poss√≠vel obter 45 amostras diferentes de tamanho k = 2 a partir das 10 parcelas poss√≠veis na popula√ß√£o florestal.
- Na linguagem R, pode-se usar a fun√ß√£o `choose(n, k)` para encontrar o total de combina√ß√µes simples poss√≠veis. Em que: **n** = n√∫mero de observa√ß√µes (No caso, n√∫mero de parcelas poss√≠veis); e **k** = tamanho da amostra.

```{r}
choose(n = 10, k = 2)
```

- Mas, quais s√£o essas combina√ß√µes poss√≠veis?

```{r}
combn(1:10, 2)
```

- Pode-se transpor para visualizar melhor as combina√ß√µes:

```{r}
t(combn(1:10, 2))
```
